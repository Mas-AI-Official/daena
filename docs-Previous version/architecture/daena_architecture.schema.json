{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Daena AI VP System Architecture Schema",
  "description": "Schema for Daena AI VP System architecture entities",
  "version": "1.0.0",
  "definitions": {
    "Department": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique department identifier"
        },
        "name": {
          "type": "string",
          "description": "Human-readable department name"
        },
        "description": {
          "type": "string",
          "description": "Department purpose and scope"
        },
        "agent_count": {
          "type": "integer",
          "minimum": 8,
          "maximum": 8,
          "description": "Number of agents (fixed at 8 per department)"
        },
        "agents": {
          "type": "array",
          "items": {"$ref": "#/definitions/Agent"},
          "minItems": 8,
          "maxItems": 8,
          "description": "List of 8 specialized agents"
        },
        "council": {
          "type": "string",
          "description": "Associated council for governance"
        },
        "frequency": {
          "type": "integer",
          "description": "Operating frequency/priority"
        },
        "status": {
          "type": "string",
          "enum": ["active", "inactive", "maintenance"],
          "description": "Current operational status"
        }
      },
      "required": ["id", "name", "agent_count", "agents", "status"]
    },
    "Agent": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique agent identifier"
        },
        "name": {
          "type": "string",
          "description": "Agent display name"
        },
        "role": {
          "type": "string",
          "enum": [
            "Strategic Advisor", "Creative Advisor", "Growth Advisor",
            "Data Scout", "Research Scout", 
            "Synthesizer", "Execution Agent", "Border Agent"
          ],
          "description": "Agent role category"
        },
        "department_id": {
          "type": "string",
          "description": "Parent department identifier"
        },
        "responsibilities": {
          "type": "array",
          "items": {"type": "string"},
          "description": "List of agent responsibilities"
        },
        "status": {
          "type": "string",
          "enum": ["active", "inactive", "busy", "error"],
          "description": "Current agent status"
        },
        "performance_metrics": {
          "$ref": "#/definitions/PerformanceMetrics"
        }
      },
      "required": ["id", "name", "role", "department_id", "status"]
    },
    "Council": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique council identifier"
        },
        "name": {
          "type": "string",
          "description": "Council display name"
        },
        "authority_level": {
          "type": "integer",
          "minimum": 1,
          "maximum": 5,
          "description": "Decision-making authority level (1-5)"
        },
        "members": {
          "type": "array",
          "items": {"type": "string"},
          "description": "List of council member roles"
        },
        "goal": {
          "type": "string",
          "description": "Council primary objective"
        },
        "decisions": {
          "type": "array",
          "items": {"$ref": "#/definitions/Decision"},
          "description": "Historical decisions made by council"
        },
        "status": {
          "type": "string",
          "enum": ["active", "inactive", "meeting"],
          "description": "Current council status"
        }
      },
      "required": ["id", "name", "authority_level", "goal", "status"]
    },
    "Task": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique task identifier"
        },
        "title": {
          "type": "string",
          "description": "Task title"
        },
        "description": {
          "type": "string",
          "description": "Detailed task description"
        },
        "assigned_to": {
          "type": "string",
          "description": "Agent or department ID assigned to task"
        },
        "priority": {
          "type": "string",
          "enum": ["low", "medium", "high", "critical"],
          "description": "Task priority level"
        },
        "status": {
          "type": "string",
          "enum": ["pending", "in_progress", "completed", "failed", "cancelled"],
          "description": "Current task status"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Task creation timestamp"
        },
        "deadline": {
          "type": "string",
          "format": "date-time",
          "description": "Task deadline"
        },
        "dependencies": {
          "type": "array",
          "items": {"type": "string"},
          "description": "List of dependent task IDs"
        }
      },
      "required": ["id", "title", "status", "created_at"]
    },
    "Session": {
      "type": "object",
      "properties": {
        "session_id": {
          "type": "string",
          "description": "Unique session identifier"
        },
        "type": {
          "type": "string",
          "enum": ["chat", "cmp_voting", "council_meeting", "agent_consultation"],
          "description": "Session type"
        },
        "participant_ids": {
          "type": "array",
          "items": {"type": "string"},
          "description": "List of participating agent/user IDs"
        },
        "started_at": {
          "type": "string",
          "format": "date-time",
          "description": "Session start timestamp"
        },
        "ended_at": {
          "type": "string",
          "format": "date-time",
          "description": "Session end timestamp"
        },
        "status": {
          "type": "string",
          "enum": ["active", "completed", "failed", "terminated"],
          "description": "Current session status"
        },
        "context": {
          "type": "object",
          "description": "Session-specific context data"
        }
      },
      "required": ["session_id", "type", "started_at", "status"]
    },
    "Memory": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique memory identifier"
        },
        "type": {
          "type": "string",
          "enum": ["belief_core", "identity", "knowledge", "temporal_context", "decision_log"],
          "description": "Memory category"
        },
        "owner_id": {
          "type": "string",
          "description": "Agent or system ID that owns this memory"
        },
        "content": {
          "type": "object",
          "description": "Memory content data"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Memory creation timestamp"
        },
        "last_accessed": {
          "type": "string",
          "format": "date-time",
          "description": "Last access timestamp"
        },
        "access_count": {
          "type": "integer",
          "minimum": 0,
          "description": "Number of times accessed"
        },
        "importance": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "description": "Memory importance score"
        }
      },
      "required": ["id", "type", "owner_id", "content", "created_at"]
    },
    "ModelRoute": {
      "type": "object",
      "properties": {
        "route_id": {
          "type": "string",
          "description": "Unique route identifier"
        },
        "model_name": {
          "type": "string",
          "description": "LLM model identifier"
        },
        "model_type": {
          "type": "string",
          "enum": ["reasoning", "creative", "coding", "mathematics", "general", "specialized"],
          "description": "Model capability category"
        },
        "provider": {
          "type": "string",
          "enum": ["azure_openai", "google_gemini", "anthropic_claude", "huggingface", "local"],
          "description": "Model provider"
        },
        "endpoint": {
          "type": "string",
          "description": "API endpoint URL"
        },
        "performance_metrics": {
          "$ref": "#/definitions/PerformanceMetrics"
        },
        "cost_per_token": {
          "type": "number",
          "minimum": 0,
          "description": "Cost per token in USD"
        },
        "is_available": {
          "type": "boolean",
          "description": "Current availability status"
        },
        "last_health_check": {
          "type": "string",
          "format": "date-time",
          "description": "Last health check timestamp"
        }
      },
      "required": ["route_id", "model_name", "model_type", "provider", "is_available"]
    },
    "AuditLog": {
      "type": "object",
      "properties": {
        "log_id": {
          "type": "string",
          "description": "Unique log entry identifier"
        },
        "event_type": {
          "type": "string",
          "enum": ["decision", "task_assignment", "agent_action", "system_event", "error"],
          "description": "Type of logged event"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "Event timestamp"
        },
        "actor_id": {
          "type": "string",
          "description": "Agent or user who performed the action"
        },
        "target_id": {
          "type": "string",
          "description": "Target entity affected by the action"
        },
        "action": {
          "type": "string",
          "description": "Description of the action performed"
        },
        "details": {
          "type": "object",
          "description": "Additional event details"
        },
        "web3_transaction_hash": {
          "type": "string",
          "description": "Blockchain transaction hash for immutable logging"
        },
        "severity": {
          "type": "string",
          "enum": ["info", "warning", "error", "critical"],
          "description": "Event severity level"
        }
      },
      "required": ["log_id", "event_type", "timestamp", "actor_id", "action"]
    },
    "Decision": {
      "type": "object",
      "properties": {
        "decision_id": {
          "type": "string",
          "description": "Unique decision identifier"
        },
        "question": {
          "type": "string",
          "description": "The question or issue being decided"
        },
        "context": {
          "type": "string",
          "description": "Additional context for the decision"
        },
        "participants": {
          "type": "array",
          "items": {"type": "string"},
          "description": "List of participating agent/council IDs"
        },
        "votes": {
          "type": "array",
          "items": {"$ref": "#/definitions/Vote"},
          "description": "Individual votes cast"
        },
        "consensus_decision": {
          "type": "string",
          "enum": ["approved", "rejected", "requires_review", "escalated"],
          "description": "Final consensus decision"
        },
        "confidence_score": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "description": "Overall confidence in the decision"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Decision initiation timestamp"
        },
        "completed_at": {
          "type": "string",
          "format": "date-time",
          "description": "Decision completion timestamp"
        },
        "web3_transaction_hash": {
          "type": "string",
          "description": "Blockchain hash for decision immutability"
        }
      },
      "required": ["decision_id", "question", "consensus_decision", "confidence_score", "created_at"]
    },
    "Vote": {
      "type": "object",
      "properties": {
        "voter_id": {
          "type": "string",
          "description": "Agent or model that cast the vote"
        },
        "vote_value": {
          "type": "string",
          "description": "The vote or recommendation"
        },
        "confidence_score": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "description": "Confidence in this vote"
        },
        "reasoning": {
          "type": "string",
          "description": "Explanation for the vote"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "Vote casting timestamp"
        },
        "processing_time": {
          "type": "number",
          "minimum": 0,
          "description": "Time taken to generate vote in seconds"
        }
      },
      "required": ["voter_id", "vote_value", "confidence_score", "timestamp"]
    },
    "PerformanceMetrics": {
      "type": "object",
      "properties": {
        "response_time_avg": {
          "type": "number",
          "minimum": 0,
          "description": "Average response time in seconds"
        },
        "accuracy_score": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "description": "Accuracy score (0-1)"
        },
        "task_completion_rate": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "description": "Task completion rate (0-1)"
        },
        "collaboration_score": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "description": "Collaboration effectiveness score (0-1)"
        },
        "uptime_percentage": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 100.0,
          "description": "Uptime percentage"
        },
        "error_rate": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "description": "Error rate (0-1)"
        }
      }
    }
  },
  "type": "object",
  "properties": {
    "system": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "const": "Daena AI VP System"
        },
        "version": {
          "type": "string",
          "description": "System version"
        },
        "architecture_type": {
          "type": "string",
          "const": "Sunflower-Honeycomb"
        },
        "total_departments": {
          "type": "integer",
          "const": 8
        },
        "total_agents": {
          "type": "integer",
          "const": 64
        },
        "total_councils": {
          "type": "integer",
          "const": 5
        }
      },
      "required": ["name", "version", "architecture_type", "total_departments", "total_agents", "total_councils"]
    },
    "departments": {
      "type": "array",
      "items": {"$ref": "#/definitions/Department"},
      "minItems": 8,
      "maxItems": 8,
      "description": "Array of 8 departments"
    },
    "councils": {
      "type": "array",
      "items": {"$ref": "#/definitions/Council"},
      "minItems": 5,
      "maxItems": 5,
      "description": "Array of 5 councils"
    },
    "model_routes": {
      "type": "array",
      "items": {"$ref": "#/definitions/ModelRoute"},
      "description": "Available LLM model routes"
    }
  },
  "required": ["system", "departments", "councils"]
} 