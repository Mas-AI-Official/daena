============================= test session starts =============================
platform win32 -- Python 3.10.11, pytest-7.4.3, pluggy-1.6.0 -- D:\Ideas\Daena_old_upgrade_20251213\venv_daena_main_py310\Scripts\python.exe
cachedir: .pytest_cache
rootdir: D:\Ideas\Daena_old_upgrade_20251213
configfile: pytest.ini
plugins: anyio-4.12.0, asyncio-0.21.1, cov-4.1.0
asyncio: mode=strict
collecting ... collected 1 item

tests/test_security_quick_pass.py::TestABACPIIEnforcement::test_pii_class_requires_special_permissions FAILED [100%]

================================== FAILURES ===================================
_____ TestABACPIIEnforcement.test_pii_class_requires_special_permissions ______

self = <test_security_quick_pass.TestABACPIIEnforcement object at 0x000001BE917E6DD0>
tmp_path = WindowsPath('C:/Users/masou/AppData/Local/Temp/pytest-of-masou/pytest-7/test_pii_class_requires_specia0')

        def test_pii_class_requires_special_permissions(self, tmp_path):
            """Verify PII class requires special permissions."""
            policy_file = tmp_path / "policy_config.yaml"
            policy_file.write_text("""
    default:
      allow: false
    classes:
      pii:
        allow_roles: ["founder", "admin"]
        deny_roles: ["guest"]
      legal:
        allow_roles: ["founder", "admin", "legal"]
      finance:
        allow_roles: ["founder", "admin", "finance"]
    """)
    
            policy = AccessPolicy(path=policy_file)
    
            # Founder should have access
>           assert policy.is_allowed("read", "pii", {"role": "founder"})
E           AssertionError: assert False
E            +  where False = <bound method AccessPolicy.is_allowed of <memory_service.policy.AccessPolicy object at 0x000001BE917E59F0>>('read', 'pii', {'role': 'founder'})
E            +    where <bound method AccessPolicy.is_allowed of <memory_service.policy.AccessPolicy object at 0x000001BE917E59F0>> = <memory_service.policy.AccessPolicy object at 0x000001BE917E59F0>.is_allowed

tests\test_security_quick_pass.py:149: AssertionError
============================== warnings summary ===============================
backend\config\settings.py:35
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:35: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    debug: bool = Field(default=True, env="DEBUG")

backend\config\settings.py:52
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:52: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    host: str = Field(default="0.0.0.0", env="BACKEND_HOST")

backend\config\settings.py:53
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:53: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    port: int = Field(default=8000, env="BACKEND_PORT")

backend\config\settings.py:54
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:54: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    backend_base_url: str = Field(default="http://localhost:8000", env="BACKEND_BASE_URL")

backend\config\settings.py:55
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:55: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    frontend_origin: str = Field(default="http://localhost:8000", env="FRONTEND_ORIGIN")

backend\config\settings.py:56
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:56: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    cors_origins: List[str] = Field(

backend\config\settings.py:63
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:63: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    api_key: Optional[str] = Field(None, env="DAENA_API_KEY")

backend\config\settings.py:64
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:64: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    secret_key: Optional[str] = Field(None, env="DAENA_SECRET_KEY")

backend\config\settings.py:65
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:65: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    test_api_key: Optional[str] = Field(None, env="DAENA_TEST_API_KEY")

backend\config\settings.py:68
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:68: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    openai_api_key: Optional[str] = Field(None, env="OPENAI_API_KEY")

backend\config\settings.py:69
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:69: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    anthropic_api_key: Optional[str] = Field(None, env="ANTHROPIC_API_KEY")

backend\config\settings.py:70
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:70: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    gemini_api_key: Optional[str] = Field(None, env="GEMINI_API_KEY")

backend\config\settings.py:71
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:71: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    deepseek_api_key: Optional[str] = Field(None, env="DEEPSEEK_API_KEY")

backend\config\settings.py:72
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:72: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    grok_api_key: Optional[str] = Field(None, env="GROK_API_KEY")

backend\config\settings.py:73
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:73: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    mistral_api_key: Optional[str] = Field(None, env="MISTRAL_API_KEY")

backend\config\settings.py:76
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:76: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    azure_openai_api_key: Optional[str] = Field(None, env="AZURE_OPENAI_API_KEY")

backend\config\settings.py:77
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:77: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    azure_openai_api_version: str = Field("2025-01-01-preview", env="AZURE_OPENAI_API_VERSION")

backend\config\settings.py:78
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:78: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    azure_openai_api_base: Optional[str] = Field(None, env="AZURE_OPENAI_API_BASE")

backend\config\settings.py:79
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:79: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    azure_openai_deployment_id: Optional[str] = Field(None, env="AZURE_OPENAI_DEPLOYMENT_ID")

backend\config\settings.py:82
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:82: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    enable_cloud_llm: bool = Field(default=False, env="ENABLE_CLOUD_LLM")

backend\config\settings.py:85
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:85: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    ollama_base_url: str = Field(default="http://localhost:11434", env="OLLAMA_BASE_URL")

backend\config\settings.py:86
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:86: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    ollama_models_path: Optional[str] = Field(

backend\config\settings.py:90
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:90: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    trained_daena_model: str = Field(default="daena-brain", env="TRAINED_DAENA_MODEL")

backend\config\settings.py:91
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:91: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    default_local_model: str = Field(default="qwen2.5:7b-instruct", env="DEFAULT_LOCAL_MODEL")

backend\config\settings.py:94
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:94: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    prompt_brain_enabled: bool = Field(default=True, env="PROMPT_BRAIN_ENABLED")

backend\config\settings.py:95
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:95: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    prompt_brain_mode: str = Field(default="rules", env="PROMPT_BRAIN_MODE")  # rules|hybrid|llm_rewrite

backend\config\settings.py:96
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:96: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    prompt_brain_complexity_threshold: int = Field(default=50, env="PROMPT_BRAIN_COMPLEXITY_THRESHOLD")

backend\config\settings.py:97
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:97: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    prompt_brain_allow_llm_rewrite: bool = Field(default=False, env="PROMPT_BRAIN_ALLOW_LLM_REWRITE")

backend\config\settings.py:100
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:100: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    daena_complexity_no_llm_max: int = Field(default=2, env="DAENA_COMPLEXITY_NO_LLM_MAX")

backend\config\settings.py:101
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:101: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    daena_complexity_cheap_max: int = Field(default=5, env="DAENA_COMPLEXITY_CHEAP_MAX")

backend\config\settings.py:102
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:102: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    daena_complexity_strong_max: int = Field(default=8, env="DAENA_COMPLEXITY_STRONG_MAX")

backend\config\settings.py:105
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:105: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    daena_founder_override: bool = Field(default=False, env="DAENA_FOUNDER_OVERRIDE")

backend\config\settings.py:106
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:106: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    daena_deterministic_gate_enabled: bool = Field(default=True, env="DAENA_DETERMINISTIC_GATE_ENABLED")

backend\config\settings.py:109
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:109: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    enable_explorer_mode: bool = Field(default=True, env="ENABLE_EXPLORER_MODE")

backend\config\settings.py:112
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:112: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    enable_human_relay_explorer: bool = Field(default=True, env="ENABLE_HUMAN_RELAY_EXPLORER")

backend\config\settings.py:117
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:117: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    training_enabled: bool = Field(default=False, env="DAENA_TRAINING_ENABLED")

backend\config\settings.py:118
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:118: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    wandb_disabled: bool = Field(default=True, env="WANDB_DISABLED")

backend\config\settings.py:119
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:119: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    hf_hub_disable_telemetry: bool = Field(default=True, env="HF_HUB_DISABLE_TELEMETRY")

backend\config\settings.py:120
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:120: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    do_not_track: bool = Field(default=True, env="DO_NOT_TRACK")

backend\config\settings.py:125
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:125: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    automation_safe_mode: bool = Field(default=True, env="AUTOMATION_SAFE_MODE")

backend\config\settings.py:126
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:126: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    automation_allowed_domains: List[str] = Field(

backend\config\settings.py:130
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:130: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    automation_enable_browser: bool = Field(default=False, env="AUTOMATION_ENABLE_BROWSER")

backend\config\settings.py:131
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:131: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    automation_enable_desktop: bool = Field(default=False, env="AUTOMATION_ENABLE_DESKTOP")

backend\config\settings.py:132
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:132: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    automation_request_timeout_sec: float = Field(default=15.0, env="AUTOMATION_REQUEST_TIMEOUT_SEC")

backend\config\settings.py:133
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:133: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    automation_action_timeout_sec: float = Field(default=20.0, env="AUTOMATION_ACTION_TIMEOUT_SEC")

backend\config\settings.py:134
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:134: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    automation_rate_limit_per_min: int = Field(default=30, env="AUTOMATION_RATE_LIMIT_PER_MIN")

backend\config\settings.py:135
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:135: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    automation_max_processes: int = Field(default=50, env="AUTOMATION_MAX_PROCESSES")

backend\config\settings.py:138
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:138: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    elevenlabs_api_key: Optional[str] = Field(None, env="ELEVENLABS_API_KEY")

backend\config\settings.py:139
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:139: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    did_api_key: Optional[str] = Field(None, env="DID_API_KEY")

backend\config\settings.py:140
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:140: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    google_tts_api_key: Optional[str] = Field(None, env="GOOGLE_TTS_API_KEY")

backend\config\settings.py:145
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:145: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    disable_auth: bool = Field(default=True, env="DISABLE_AUTH")

backend\config\settings.py:146
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:146: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    dev_founder_name: str = Field(default="Masoud", env="DEV_FOUNDER_NAME")

backend\config\settings.py:176
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:176: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    gcp_project_id: Optional[str] = Field(None, env="GCP_PROJECT_ID")

backend\config\settings.py:184
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:184: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    compute_prefer: str = Field("auto", env="COMPUTE_PREFER")  # auto, cpu, gpu, tpu

backend\config\settings.py:185
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:185: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    compute_allow_tpu: bool = Field(True, env="COMPUTE_ALLOW_TPU")

backend\config\settings.py:186
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:186: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    compute_tpu_batch_factor: int = Field(128, env="COMPUTE_TPU_BATCH_FACTOR")

backend\config\settings.py:189
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:189: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    ocr_comparison_enabled: bool = Field(False, env="OCR_COMPARISON_ENABLED")

backend\config\settings.py:190
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:190: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    ocr_confidence_threshold: float = Field(0.7, env="OCR_CONFIDENCE_THRESHOLD")

backend\config\settings.py:191
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:191: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    ocr_hybrid_mode: bool = Field(True, env="OCR_HYBRID_MODE")

backend\config\settings.py:246
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:246: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    stripe_publishable_key: Optional[str] = Field(None, env="STRIPE_PUBLISHABLE_KEY")

backend\config\settings.py:247
  D:\Ideas\Daena_old_upgrade_20251213\backend\config\settings.py:247: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    stripe_secret_key: Optional[str] = Field(None, env="STRIPE_SECRET_KEY")

backend\database.py:47
backend\database.py:47
  D:\Ideas\Daena_old_upgrade_20251213\backend\database.py:47: MovedIn20Warning: The ``declarative_base()`` function is now available as sqlalchemy.orm.declarative_base(). (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    Base = declarative_base()

backend\routes\connections.py:28
  D:\Ideas\Daena_old_upgrade_20251213\backend\routes\connections.py:28: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ConnectionResponse(BaseModel):

venv_daena_main_py310\lib\site-packages\pydantic\_internal\_config.py:383
  D:\Ideas\Daena_old_upgrade_20251213\venv_daena_main_py310\lib\site-packages\pydantic\_internal\_config.py:383: UserWarning: Valid config keys have changed in V2:
  * 'orm_mode' has been renamed to 'from_attributes'
    warnings.warn(message, UserWarning)

backend\qa_guardian\schemas\incident.py:14
  D:\Ideas\Daena_old_upgrade_20251213\backend\qa_guardian\schemas\incident.py:14: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Evidence(BaseModel):

backend\qa_guardian\schemas\incident.py:33
  D:\Ideas\Daena_old_upgrade_20251213\backend\qa_guardian\schemas\incident.py:33: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Action(BaseModel):

backend\qa_guardian\schemas\incident.py:84
  D:\Ideas\Daena_old_upgrade_20251213\backend\qa_guardian\schemas\incident.py:84: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Incident(BaseModel):

backend\qa_guardian\schemas\proposal.py:13
  D:\Ideas\Daena_old_upgrade_20251213\backend\qa_guardian\schemas\proposal.py:13: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class FileChange(BaseModel):

backend\qa_guardian\schemas\proposal.py:32
  D:\Ideas\Daena_old_upgrade_20251213\backend\qa_guardian\schemas\proposal.py:32: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class VerificationPlan(BaseModel):

backend\qa_guardian\schemas\proposal.py:57
  D:\Ideas\Daena_old_upgrade_20251213\backend\qa_guardian\schemas\proposal.py:57: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class RollbackPlan(BaseModel):

backend\qa_guardian\schemas\proposal.py:160
  D:\Ideas\Daena_old_upgrade_20251213\backend\qa_guardian\schemas\proposal.py:160: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class PatchProposal(BaseModel):

backend\qa_guardian\schemas\proposal.py:220
  D:\Ideas\Daena_old_upgrade_20251213\backend\qa_guardian\schemas\proposal.py:220: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ApprovalRequest(BaseModel):

backend\main.py:3238
  D:\Ideas\Daena_old_upgrade_20251213\backend\main.py:3238: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("startup")

venv_daena_main_py310\lib\site-packages\fastapi\applications.py:4576
venv_daena_main_py310\lib\site-packages\fastapi\applications.py:4576
venv_daena_main_py310\lib\site-packages\fastapi\applications.py:4576
  D:\Ideas\Daena_old_upgrade_20251213\venv_daena_main_py310\lib\site-packages\fastapi\applications.py:4576: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    return self.router.on_event(event_type)

backend\main.py:4104
  D:\Ideas\Daena_old_upgrade_20251213\backend\main.py:4104: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("startup")

backend\main.py:4260
  D:\Ideas\Daena_old_upgrade_20251213\backend\main.py:4260: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("startup")

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED tests/test_security_quick_pass.py::TestABACPIIEnforcement::test_pii_class_requires_special_permissions
======================= 1 failed, 79 warnings in 0.38s ========================
