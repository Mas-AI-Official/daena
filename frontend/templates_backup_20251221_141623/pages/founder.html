{% extends "base.html" %}

{% block content %}
<div class="max-w-5xl mx-auto space-y-8">

    <!-- Header -->
    <div class="flex items-center justify-between">
        <div>
            <h2 class="text-2xl font-display font-bold text-white">Founder Control Panel</h2>
            <p class="text-gray-400">Restricted Access - Level 5 Clearance</p>
        </div>
        <div
            class="px-3 py-1 bg-red-500/10 border border-red-500/20 rounded text-red-400 text-xs font-mono uppercase tracking-wider">
            Top Secret
        </div>
    </div>

    <!-- Kill Switches -->
    <div class="glass-panel rounded-xl p-6 border-l-4 border-l-red-500">
        <h3 class="text-lg font-medium text-white mb-4 flex items-center gap-2">
            <i class="fas fa-power-off text-red-400"></i>
            System Overrides & Safety
        </h3>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Training Switch -->
            <div class="p-4 bg-white/5 rounded-lg border border-white/5 flex items-center justify-between">
                <div>
                    <div class="font-medium text-white">Training Mode</div>
                    <div class="text-xs text-gray-500">Enable self-evolution</div>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" id="toggle-training" class="sr-only peer">
                    <div
                        class="w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-daena-gold">
                    </div>
                </label>
            </div>

            <!-- Telemetry Switch -->
            <div class="p-4 bg-white/5 rounded-lg border border-white/5 flex items-center justify-between">
                <div>
                    <div class="font-medium text-white">Telemetry</div>
                    <div class="text-xs text-gray-500">External data sharing</div>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" id="toggle-telemetry" class="sr-only peer">
                    <div
                        class="w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-daena-gold">
                    </div>
                </label>
            </div>

            <!-- Outbound Switch -->
            <div class="p-4 bg-white/5 rounded-lg border border-white/5 flex items-center justify-between">
                <div>
                    <div class="font-medium text-white">Outbound Comms</div>
                    <div class="text-xs text-gray-500">Allow external API calls</div>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" id="toggle-outbound" class="sr-only peer" checked>
                    <div
                        class="w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500">
                    </div>
                </label>
            </div>
        </div>

        <div class="mt-6 pt-6 border-t border-white/10 flex justify-end">
            <button onclick="window.DaenaAPI.emergencyStop()"
                class="px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 border border-red-500/50 rounded-lg transition-colors flex items-center gap-2">
                <i class="fas fa-skull-crossbones"></i>
                EMERGENCY STOP
            </button>
        </div>
    </div>

    <!-- Hidden Departments -->
    <div class="glass-panel rounded-xl p-6">
        <h3 class="text-lg font-medium text-white mb-4 flex items-center gap-2">
            <i class="fas fa-user-secret text-gray-400"></i>
            Hidden Departments
        </h3>

        <div class="space-y-3">
            <div
                class="p-4 bg-white/5 rounded-lg border border-white/5 flex items-center justify-between hover:bg-white/10 transition-colors cursor-pointer">
                <div class="flex items-center gap-4">
                    <div class="w-10 h-10 rounded bg-black flex items-center justify-center border border-daena-border">
                        <i class="fas fa-chess-knight text-gray-400"></i>
                    </div>
                    <div>
                        <div class="font-medium text-white">Strategic Operations</div>
                        <div class="text-xs text-gray-500">2 Active Agents • 1 Pending Op</div>
                    </div>
                </div>
                <div class="text-xs font-mono text-gray-500">ID: DEP-009</div>
            </div>

            <div
                class="p-4 bg-white/5 rounded-lg border border-white/5 flex items-center justify-between hover:bg-white/10 transition-colors cursor-pointer">
                <div class="flex items-center gap-4">
                    <div class="w-10 h-10 rounded bg-black flex items-center justify-center border border-daena-border">
                        <i class="fas fa-dna text-gray-400"></i>
                    </div>
                    <div>
                        <div class="font-medium text-white">Enterprise DNA</div>
                        <div class="text-xs text-gray-500">System Core • Immune System</div>
                    </div>
                </div>
                <div class="text-xs font-mono text-gray-500">ID: DEP-000</div>
            </div>
        </div>
    </div>

</div>
{% endblock %}

{% block scripts %}
<script>
    // Handle Toggles
    document.getElementById('toggle-training').addEventListener('change', (e) => {
        const enabled = e.target.checked;
        App.showToast(`Training Mode ${enabled ? 'Enabled' : 'Disabled'}`, enabled ? 'warning' : 'info');
        // Call API to persist
    });

    document.getElementById('toggle-telemetry').addEventListener('change', (e) => {
        const enabled = e.target.checked;
        App.showToast(`Telemetry ${enabled ? 'Enabled' : 'Disabled'}`, enabled ? 'warning' : 'info');
        // Call API to persist
    });
</script>
{% endblock %}