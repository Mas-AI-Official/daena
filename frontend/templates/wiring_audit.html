{% extends "base.html" %}
{% block title %}UI Wiring Audit - Daena VP{% endblock %}
{% block content %}
<div class="p-6 max-w-5xl mx-auto">
    <h1 class="text-2xl font-bold text-white mb-2">UI wiring audit</h1>
    <p class="text-gray-400 text-sm mb-6">Frontend actions and the backend endpoints they call. Use this to verify keys and fix 404s.</p>
    <div class="glass-panel rounded-xl overflow-hidden">
        <table class="w-full text-left text-sm">
            <thead>
                <tr class="border-b border-white/10">
                    <th class="px-4 py-3 text-gray-400 font-medium">Page / Trigger</th>
                    <th class="px-4 py-3 text-gray-400 font-medium">Action</th>
                    <th class="px-4 py-3 text-gray-400 font-medium">Backend / Route</th>
                </tr>
            </thead>
            <tbody id="wiring-tbody">
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">Dashboard</td><td class="px-4 py-2 text-gray-300">Quick: Integrations</td><td class="px-4 py-2 text-daena-gold">GET /ui/connections</td></tr>
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">Dashboard</td><td class="px-4 py-2 text-gray-300">Execution: Run tool</td><td class="px-4 py-2 text-daena-gold">POST /api/v1/execution/run</td></tr>
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">Dashboard</td><td class="px-4 py-2 text-gray-300">Brain status</td><td class="px-4 py-2 text-daena-gold">GET /api/v1/brain/status</td></tr>
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">Dashboard</td><td class="px-4 py-2 text-gray-300">System status</td><td class="px-4 py-2 text-daena-gold">GET /api/v1/system-summary/summary or /api/v1/health</td></tr>
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">Daena Office</td><td class="px-4 py-2 text-gray-300">Chat stream</td><td class="px-4 py-2 text-daena-gold">POST /api/v1/daena/chat/stream</td></tr>
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">Daena Office</td><td class="px-4 py-2 text-gray-300">Voice status / Talk mode / Speak</td><td class="px-4 py-2 text-daena-gold">GET /api/v1/voice/status, POST /api/v1/voice/talk-mode, POST /api/v1/voice/speak</td></tr>
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">Daena Office</td><td class="px-4 py-2 text-gray-300">Sessions list / Get session</td><td class="px-4 py-2 text-daena-gold">GET /api/v1/chat-history/sessions, GET .../sessions/{id}</td></tr>
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">Daena Office</td><td class="px-4 py-2 text-gray-300">Delete / Deleted list / Restore</td><td class="px-4 py-2 text-daena-gold">DELETE /api/v1/daena/chat/{id}, GET /api/v1/daena/chat/deleted, POST .../chat/{id}/restore</td></tr>
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">Daena Office</td><td class="px-4 py-2 text-gray-300">Clear context</td><td class="px-4 py-2 text-daena-gold">POST /api/v1/chat-history/sessions/{id}/clear-context</td></tr>
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">Skills</td><td class="px-4 py-2 text-gray-300">Load skills</td><td class="px-4 py-2 text-daena-gold">GET /api/v1/skills</td></tr>
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">Skills</td><td class="px-4 py-2 text-gray-300">Toggle / Run</td><td class="px-4 py-2 text-daena-gold">POST /api/v1/skills/toggle, POST /api/v1/skills/run</td></tr>
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">Execution</td><td class="px-4 py-2 text-gray-300">Tools / Logs</td><td class="px-4 py-2 text-daena-gold">GET /api/v1/execution/tools, GET /api/v1/execution/logs</td></tr>
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">Tasks</td><td class="px-4 py-2 text-gray-300">List / Create / Run</td><td class="px-4 py-2 text-daena-gold">GET/POST /api/v1/execution/tasks, POST .../tasks/{id}/run</td></tr>
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">Approvals Inbox</td><td class="px-4 py-2 text-gray-300">List / Approve</td><td class="px-4 py-2 text-daena-gold">GET /api/v1/execution/approvals, POST .../approvals/{id}</td></tr>
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">Proactive</td><td class="px-4 py-2 text-gray-300">Rules / Events</td><td class="px-4 py-2 text-daena-gold">GET/POST /api/v1/proactive/rules, run_once, events</td></tr>
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">QA Guardian</td><td class="px-4 py-2 text-gray-300">Refresh / Start loop</td><td class="px-4 py-2 text-daena-gold">GET /api/v1/qa/status, POST /api/v1/qa/...</td></tr>
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">App Setup</td><td class="px-4 py-2 text-gray-300">Open Integrations</td><td class="px-4 py-2 text-daena-gold">GET /ui/connections</td></tr>
                <tr class="border-b border-white/5"><td class="px-4 py-2 text-white">Incident Room</td><td class="px-4 py-2 text-gray-300">Lockdown / Unlock</td><td class="px-4 py-2 text-daena-gold">Founder/security endpoints</td></tr>
            </tbody>
        </table>
    </div>
    <p class="text-gray-500 text-xs mt-4">Full audit: <code class="text-gray-400">docs/FRONTEND_BACKEND_TRIGGERS_AUDIT.md</code></p>
</div>
{% endblock %}
